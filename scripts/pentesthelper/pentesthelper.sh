#!/bin/bash

usage()
{
    echo "pentesting helper script"
    echo
    echo "Usage: $0 [Option] [Command]"
    echo
    echo "Options and Commmands:"
    echo ""
    printf "%-4s%-20s\n" "O" "monitor"
    printf "%-8s%-20s %s\n" "C" "enable" "set permanent mac address and disable monitor mode"
    printf "%-8s%-20s %s\n" "C" "disable" "set permanent mac address and disable monitor mode"
    exit 1
}

exists_interface()
{
    echo "exists_interface"
}

enable_monitor_mode()
{
    sudo ifconfig $INTERFACE down
    sudo iwconfig $INTERFACE mode managed
    sudo macchanger -p $INTERFACE
}

disable_monitor_mode()
{
    sudo ifconfig $INTERFACE down
    sudo macchanger -r $INTERFACE
    sudo iwconfig $INTERFACE mode monitor
    sudo ifconfig $INTERFACE up
}

if [ $# == 0 ]; then
    usage
fi

case $1 in
    monitor)
        case $2 in
            enable) enable_monitor_mode ;;
            disable) disable_monitor_mode ;;
            *) usage ;;
        esac
    ;;
    *) usage ;;
esac

exit 0
